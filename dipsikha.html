
<!DOCTYPE html>
<html lang="en">
  <head>
    	<meta charset="utf-8">
    	<link rel="apple-touch-icon" sizes="57x57" href="https://devict.programs.org.in/ekam/ico/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="https://devict.programs.org.in/ekam/ico/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="https://devict.programs.org.in/ekam/ico/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="https://devict.programs.org.in/ekam/ico/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="https://devict.programs.org.in/ekam/ico/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="https://devict.programs.org.in/ekam/ico/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="https://devict.programs.org.in/ekam/ico/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="https://devict.programs.org.in/ekam/ico/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="https://devict.programs.org.in/ekam/ico/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="https://devict.programs.org.in/ekam/ico/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="https://devict.programs.org.in/ekam/ico/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="https://devict.programs.org.in/ekam/ico/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://devict.programs.org.in/ekam/ico/favicon-16x16.png">
	<link rel="manifest" href="https://devict.programs.org.in/ekam/ico/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="https://devict.programs.org.in/ekam/ico/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="https://devict.programs.org.in/ekam/ico/favicon-96x96.png">
    <title>Ekam  - Visitors</title>
    <!-- Bootstrap core CSS -->
    <link href="https://devict.programs.org.in/ekam/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="https://devict.programs.org.in/ekam/css/bootstrap-theme.min.css" rel="stylesheet">
    <script src="https://devict.programs.org.in/ekam/js/jquery.1.11.0.min.js"></script>
    <script src="https://devict.programs.org.in/ekam/js/bootstrap.min.js"></script>
    
        
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://devict.programs.org.in/ekam/js/html5shiv.js"></script>
      <script src="https://devict.programs.org.in/ekam/js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
    	body {
	  padding-top: 50px;
	  padding-bottom: 40px;
	  background-color: #eee;
	}



	.navbar-nav {
	    float: right;
	    }
  #help-wrap {
    color :white;
  }
  .bb { color:black;}


 img {
    -webkit-transition: all 1s ease; /* Safari and Chrome */
    -moz-transition: all 1s ease; /* Firefox */
    -ms-transition: all 1s ease; /* IE 9 */
    -o-transition: all 1s ease; /* Opera */
    transition: all 1s ease;
}

 img:hover {
    -webkit-transform:scale(2.45)rotateZ(-6deg); /* Safari and Chrome */
    -moz-transform:scale(2.45); /* Firefox */
    -ms-transform:scale(2.45)rotateZ(-6deg); /* IE 9 */
    -o-transform:scale(2.45); /* Opera */
     transform:scale(2.45) rotateZ(-6deg);
     z-index: 1000;
    border-radius:15%;
 
}


	</style>
	<script>

  $(function(){
        $("td,th").css("border","2px double");


  });
 
	 
	function confirm_click()
	{
	return confirm("Are you sure you want to logout?");
	}
 
	var chaturl = "https://devict.programs.org.in/ekam/index.php"; 
	</script>

    </head>
  <body role="document"  >



    <script type="text/javascript">
    
        // ask user for name with popup prompt    
        var name = 'Abhi Desai';//prompt("Enter your chat name:", "Guest");
        
        // default name is 'Guest'
	// if (!name || name === ' ') {  	   name = "Guest";	  	}
    	
    	// strip tags
    	name = name.replace(/(<([^>]+)>)/ig,"");
    	
    	// display name on page
    	//$("#name-area").html("You are: <span>" + name + "</span>");
        	
    	 
      	
   
 	 
	$(function() {
	
	    	 
	});
 
  
  
    </script> 

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://devict.programs.org.in/ekam/">Ekam  - <i>Visitors</i> </a>
        </div> 
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            
            <li><a href="https://devict.programs.org.in/ekam/index.php/housing/visitor/group"><button class="btn btn-xs bb" style="background-color:rgb(252,208,121);"><span class="glyphicon glyphicon-user"></span><span class="glyphicon glyphicon-user"></span><span class="glyphicon glyphicon-user"></span></button></a></li>
            <li><a target="_blank" href="https://devict.programs.org.in/ekam/index.php/housing/reference/donations"><button class="btn btn-xs bb" style="background-color:rgb(152,208,221);">$</button></a></li>            

            <li><a href="https://devict.programs.org.in/ekam/index.php/housing/visitor/quick"><button class="btn btn-xs bb" style="background-color:rgb(152,208,221);">Nat</button></a></li>
            <li><a href="https://devict.programs.org.in/ekam/index.php/housing/visitor/quickinternational"><button class="btn btn-xs bb" style="background-color:rgb(152,208,221);">Int</button></a></li>
            <li><a href="https://devict.programs.org.in/ekam/index.php/housing/user"><button class="btn btn-xs bb" style="background-color:rgb(122,151,236);">Dashboard</button></a></li>
            
             	    <!-- <li><a href=#><button id="fbb" class="btn btn-xs btn-primary" type="button" onclick='feedback();'>Feedback</button></a></li> -->
	     <li><a href="https://devict.programs.org.in/ekam/index.php/login/logout" onclick="return confirm_click();"><button class="btn btn-xs btn-danger" type="button">Logout Abhi</button></a></li>
     </ul>
        </div> 
         

        
        
      
      </div>
    </div>
    <br />
    	<div class="container">
 
 	<link rel="stylesheet" href="https://devict.programs.org.in/ekam/css/jquery-ui.css">
	<script src="https://devict.programs.org.in/ekam/js/jquery-ui.js"></script>
	<div id='dedup'></div>
	 <form method="post" action="#" id="savingform" class="form-horizontal"><fieldset>
	<h1>Registration</h1>
 	<div class="half control-group">

 		<div class="col-xs-2 np">
			<label for="tname"><span  class="l"  >Title</span></label>
			<input tabindex="0" type="text" name="title_name" id="tname" class="form-control" >
		</div>
 		<div class="col-xs-4 np">
			<label for="fname"><span  class="l"  >First Name</span><span class=req>*</span></label>
			<input tabindex="1" type="text" name="first_name" id="fname" class="form-control dedupi" value="" tabindex="1">
		</div>
		<div class="col-xs-2  np opt">	
			<label   for="mname"><span  class="l" >Middle Name</span></label>
			<input tabindex="2" type="text" name="middle_name" id="mname" class="form-control" >
		</div>
		<div class="col-xs-4 np">
			<label  for="lname"><span  class="l"  >Last Name</span><span class=req>*</span></label>
			<input tabindex="3" type="text" name="last_name" id="lname" class="form-control dedupi"  value="" tabindex="2">
		</div>

				
		<div class="twocols">
			<label for="mobile" ><span  class="l" >Mobile Number</span><span class=req>*</span></label>
			<input tabindex="4" type=text name="mobile" id="mobile" class="form-control dedupi"  value="" tabindex="3" >
		</div>
		<div class="twocols">
			<label for="em" ><span  class="l "  >Email</span></label>
		 	<input tabindex="5" type=email name="email" id="em" class="form-control " >	
		</div>
		<br><span  class="l opt" >Remarks: </span>
	 	<input type=text name="remarks" id="remarks" placeholder="Your comments please" class="form-control opt" />
	 	<br>
 	</div>
 	<div class="half half2">

 	<div class="fourcols">
		<label for="profilecomplete" class="1" >Profile Complete?</label>
		<select name="profilecomplete" class="form-control"  >
			<option value="0" >No</option>
			<option value="1" >Yes</option>
		</select>

 	<br>		
		<label for="pan_number" class="l" >PAN Number <span class=req>*</span></label>
		<input type='text' name="pan_number" id="pan_number" class="form-control" />
 	</div>	

 	<input type=hidden name="photo" id="photo_url" value=""  /> 

	<iframe  tabindex="7" src="https://devict.programs.org.in/ekam/index.php/photo/camera" frameBorder="0" seamless width="40%" height="300px" class="cam" id="cam1"></iframe>
	<!--
	 	<input type=hidden name=doc_photo id=doc_photo_url value=" "  />
   	<iframe src="https://devict.programs.org.in/ekam/../../camera/doc_photo.php" frameBorder="0" seamless width="40%" height="300px" class="cam" id="cam2"></iframe>
   	-->
 	</div>

	<br style="clear:both;">

	<script src="https://devict.programs.org.in/ekam/js/countries3.js"></script>
	<div class="fourcols">
		 <label for="country"  class="l" >Country : INDIA</label> 
		<div style="visibility:hidden;">
		<select onchange="console.log('state', this.selectedIndex);" id="country" name="country" class="form-control"  value="105" tabindex="4" ></select>
	 	</div>
	 	<label for="address"  class="l " >Address <span class=req>*</span></label>
        <input type="text" name="address" id="address"  class="form-control " />
	 	 
	 
	 </div>
	<div class="fourcols">
		 <label for="state"  class="l" >State <span class=req>*</span></label>
		<select name ="state" id ="state" class="form-control"   tabindex="5"></select>
	        <script language="javascript">print_country("country");</script>
	</div>
	<div class="fivecols">
		  &nbsp;
	</div>
	<div class="fourcols hgender" >
	      	<fieldset >
		    <legend><small>Gender <span class=req>*</span></small></legend>
		        <input name="gender" id="radio-gender" value="male"  type="radio"  tabindex="6" >
		        <label for="radio-gender" >Male</label>
		        <input name="gender" id="radio-gender2" value="female" type="radio" >
		        <label for="radio-gender2" >Female</label>
		</fieldset>
	</div>
	<div class="fourcols"> 
		<label for="town"  class="l" >City / Town / Village <span class=req>*</span></label>
        	<input type="text" name="town" id="town"  class="form-control" />
        </div>
	<div class="fourcols">	
	        <label for="zip"  class="l opt" >Zip / Pin Code</label>
	        <input type="text" name="zip" id="zip" class="form-control opt" />
	</div>

	<div class="fourcols">
		<label for="dob"  ><span  class="l opt" >Date of Birth</span></label>

		
		  <div class="input-append date opt" id="dpYears" data-date-format="dd-mm-yyyy" data-date-viewmode="years">
			<input class="span2 form-control" size="16" value="" readonly="" name="dob" id="dob" type="text">
			<!-- <span class="add-on"><button class="btn btn-xs btn-default" type="button" >Change Date</button></span> -->
		  </div>
		
		
	</div>



	<div id=togmorediv class="opt" >
		<div class="fourcols"> 
			<label for="homenumber" class="l" >Home Number</label>
		 	<input type='text' name="home_number" id="homenumber" class="form-control" />
		</div>
		<div class="fourcols">
		 	<label for="officenumber" class="l" >Office Number</label>
		 	<input type='text' name="office_number" id="officenumber" class="form-control" />
	 	</div>	
	 	<div class="fourcols">			
			<label for="emergency_contact_person" class="l" >Emergency Contact Person</label>
			<input type="text" name="emergency_name" id="emergency_contact_person" class="form-control" />	 
		</div>
		<div class="fourcols">				
			<label for="emergency_contact_number" class="l" >Emergency Contact Number</label>
			<input type="text" name="emergency_number" id="emergency_contact_number" class="form-control" />
		</div>
 		<br style="clear:both;">

		<div class="threecols">
			<label for="profession" class="l" >Profession</label>
		 	<select name=profession id="profession" class="form-control" >
		 		<option value="">Select</option>
		 		<option value="Student">Student</option>
		 		<option value="AoL Teacher">AoL Teacher</option>
		 		<option value="Doctor">Doctor</option>
		 		<option value="Employed">Employed</option>
		 		<option value="Self Employed">Self Employed</option>
		 		<option value="Business">Business</option>
		 		<option value="Investor">Investor</option>
		 	</select>
		</div>
		<div class="threecols">
			<label for="Organisation" class="l" >Organisation</label>
			<input type="text" name="organisation" id="Organisation" class="form-control" />
		</div>
		<div class="threecols">
			<label for="designation" class="l" >Designation</label>
			<input type="text" name="designation" id="designation" class="form-control" />
		</div>
 		<br style="clear:both;">

		<div class="fivecols">			
			<label for="health_condition" class="l" >Health Condition</label>
			<input type='text' name="health" id="health_condition" class="form-control" />
		</div>
 		<div class="fivecols">
			<label for="withAOL" class="l" >Previous Course Details</label>
			<input type='text' name="withAOL" id="withAOL" class="form-control" />
	 	</div>
	</div>	 	<br style="clear:both;">
    <div id="saveResults"></div>	<br style="clear:both;">
	<div class="twocols">
		<br>
		<button class="btn btn-xs btn-default form-control" type="button" onclick="togmore();"  >Toggle More Info</button>
	</div>
	<div class="twocols">
		<br>
		<button class="btn btn-xs btn-primary form-control" type="button" onclick="save_User();"   tabindex="8" >Save User</button>
	</div>    
    </fieldset></form> 

    <script>
	function save_User()
	{
	    $("#saveResults").html("<br>Saving ..  ");
	 
	
	      $.ajax({ // ajax call starts
	          url: 'https://devict.programs.org.in/ekam/index.php/housing/visitorajax/save/' ,  
	          type: "post",
	          data: $("#savingform").serialize(),  
	          success: function(data) // Variable data contains the data we get from serverside
	          {
	
		
			if(data.stat=="ok") 
			{ 
	      			$("#saveResults").html("<b><font color=green> "+data.message + "</font></b> <br>");
	      			$("#savingform")[0].reset();
	      			window.location = "https://devict.programs.org.in/ekam/index.php/housing/visitor/user/"+data.UID;
	      		}
			else
			{		
	
	  			$("#saveResults").html("<b><font color=red> "+data.message + "</font></b> <br>");
				$.each(data , function(k, v) {
					 if(k!="stat" && k!="message") {
						$("#saveResults").append("<font color=red> "+v+ "</font><br>");
					 }
				});	
				
		
	                }
	          },
	          error: function() 
	          {
	              $("#saveResults").append("ERROR");
	          }
	      });	    	
	}
	 
	$(function() {
	
	$("#country").val('India');

 	print_state('state', '105');
	 
	$( "#dob" ).datepicker({
	               showWeek:true,
	               maxDate:"0",
	               changeMonth: true,
		       changeYear: true,
		       yearRange:'-130:+0',
	               showAnim: "slide",
	               dateFormat: 'dd/mm/yy'
	            });

	$(".dedupi").keyup(function(){
		 dedupichanged();
		});

	});
	 
	function savedDocURL(msg)
	{
		//alert(msg);
		$("#doc_photo_url").val(msg);
		//$("#photostatus").html("Photo Saved").css('background-color', 'transparent');
	}

	function savedPhotoURL(msg)
	{
		//alert(msg);
		$("#photo_url").val(msg);
		//$("#photostatus").html("Photo Saved").css('background-color', 'transparent');
	} 

</script> 
    
    </div> <!-- /container -->
<style>
.datesel { float:left; text-align:center;margin-left: 10px;}
 .ui-content {background-color: lightcyan; font-weight}
.l{   font-weight: bold; }
.req {color:red;margin-left:5px;}
.half {width:50%; float:left;}
.half2 {text-align:center;}
.cam {float:center; height: 188px;}
.namediv, .threecols {width:33%; float:left;}
.twocols {width:50%; float:left;}
.fourcols {width:25%; float:left;}
.fivecols {width:20%; float:left;}

.filldiv {font-weight:bold; font-size:32px; float:left;margin-left:15px;}
.cen {text-align:center;}
.dupre { float: left; height:100px;margin: 20px;}
.duprep { height: 10px;}
 
.ui-btn, label.ui-btn {    height: 15px;     }

@media screen and (max-width: 614px) {
  .half, .namediv, .twocols, .fourcols, .fivecols {
    width:100%;
  }
}
</style>
 <script>
$(function() {
 
$(".opt").hide();

 $(".np").css("padding","0px");

});



function dedupichanged()
{
	var fn = $.trim($("#fname").val());
	var ln = $.trim($("#lname").val());
	var m  = $.trim($("#mobile").val());
	console.log(fn,ln,m);

	$("#dedup").html("Searching Duplicates");

	if(fn=='' || ln == '' )
	{
		$("#dedup").append(' will work only after filling firstname & lastname (but filtered also using mobile number)');
		return false;
	}
 
 	 var str = "fn="+fn+"&ln="+ln+"&m="+m;

 	 
      $.ajax({ // ajax call starts
          url: 'https://devict.programs.org.in/ekam/index.php/housing/visitorajax/duplicatecheck/' ,  
          type: "post",
          data: str,  
          success: function(data) // Variable data contains the data we get from serverside
          {

	
			if(data.stat=="ok") 
			   { 
 	      		//$("#dedup").html(" "+data.message + "<br>");
	      		if(data.visitors.length >=1)
		      		{
		      			$("#dedup").html("");
		      			$.each(data.visitors,function(k,v){
		      				//console.log(k,v );
		      				//$("#dedup").append("<button class='btn btn-danger' onclick=nav('user/"+v['id'] + "'); > "+v['first_name'] + " "+v['last_name']  + " " +v['mobile']  + " " +v['town'] + " "+v['state'] + " "+v['country'] + "  </button> ");
		      				if(!v['photo'] ) v['photo']	='photo/view/dummy.jpg';

		      				$("#dedup").append("<div class='dupre'><img height='80px'  src='https://devict.programs.org.in/ekam/index.php/"+v['photo'] + "'   onclick=nav('user/"+v['id'] + "'); /><br><div class='duprep'><b>"+v['first_name'] + " "+v['last_name']  + "</b><br>" +v['mobile']  + "<br> " +v['town'] + " "+v['state'] + "<br>"+v['country'] + " </div></div>");
		      			});
		      			$("#dedup").append("<br style='clear:both;'>");
		      		}

	      		}
			else
			   {		
	  			$("#dedup").html("<b><font color=red> "+data.message + "</font></b> <br>");  
	           }
	       	},
          error: function() 
          {
              $("#dedup").append("ERROR");
          }

          
      });	
      
	
}


function nav(url)
{
//location.href = url;

	var win = window.open(url, '_blank');
	if(win){
	    //Browser has allowed it to be opened
	    win.focus();
	}else{
	    //Broswer has blocked it
	    alert('Please allow popups for this site');
	}

}
function togmore()
{
$(".opt").toggle( "slow" );
//$("#previous_course_details").css("height","75px"); 

}
function save()
{
alert("Yet to implement saving funcitonality! JGD!");
}
 
function search()
{
alert("Search functionality is yet to implemented! JGD!");
}
function allocate()
{
alert("Room Allocation functionality is yet to implemented! JGD!");
}

function selallrooms()
{
 //selectallrooms bulkspan      $("input:checkbox").attr('checked','checked');
 
     $("input:checkbox").attr('checked','checked');
}

function bulkupload()
{
alert("Bulk Upload functionality is yet to implemented! JGD!");
}

function bulkprint()
{
alert("Bulk Printing functionality is yet to implemented! JGD!");
} 
</script>
</body>
</html>